{"ast":null,"code":"var _jsxFileName = \"/Users/ragir/Documents/chess/chess-react/src/WaitingGameRoom.js\";\nimport React, { Component } from 'react';\nimport NavBar from './NavBar';\nimport whiteKing from './images/white_king.png';\nimport blackKing from './images/black_king.png';\nimport { Button, FormControl, InputGroup } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport questionmark from './images/questionmark.jpeg';\n\nclass WaitingGameRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect: false,\n      redirectToHome: false,\n      gameId: this.props.location.state.gameId,\n      color: this.props.location.state.color,\n      opponentName: this.props.location.state.opponentName,\n      opponentImageUrl: this.props.location.state.opponentImageUrl\n    };\n\n    this.redirectToHome = () => {\n      this.setState({\n        redirectToHome: true\n      });\n    };\n\n    this.goToGame = () => {\n      this.socket.send(JSON.stringify({\n        \"type\": \"ready\"\n      }));\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.copyToClipboard = e => {\n      this.gameId.select();\n      document.execCommand('copy');\n      e.target.focus();\n    };\n\n    this.gameId = React.createRef();\n  }\n\n  componentDidMount() {\n    this.socket = new WebSocket(\"ws://localhost:8000/room?userId=\" + this.props.location.state.playerName + \"&gameId=\" + this.props.location.state.gameId);\n\n    this.socket.onopen = () => {\n      console.log(\"socket connected\");\n    };\n\n    this.socket.onclose = () => {\n      console.log('socket closed');\n    };\n\n    this.socket.onmessage = input => {\n      var data = JSON.parse(input.data);\n\n      if (data.opponent) {\n        this.setState({\n          otherPlayerName: data.opponent\n        });\n      } else if (data.type === 'opponentLeft') {\n        this.setState({\n          otherPlayerName: null\n        });\n      } else if (data.type === 'ready') {\n        this.setState({\n          redirect: true\n        });\n      }\n    };\n  }\n\n  componentWillUnmount() {\n    this.socket.close();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, this.state.redirect ? /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/game',\n        state: {\n          gameId: this.state.gameId,\n          color: this.state.color,\n          opponentName: this.state.opponentName,\n          opponentImageUrl: this.state.opponentImageUrl\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 43\n      }\n    }) : null, this.state.redirectToHome ? /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 49\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'fixed',\n        left: '2%',\n        top: '2%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: home,\n      roundedCircle: true,\n      width: \"100\",\n      height: \"100\",\n      onClick: this.redirectToHome,\n      style: {\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"waitingRoomText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(InputGroup, {\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      placeholder: this.props.location.state.gameId,\n      \"aria-label\": this.props.location.state.gameId,\n      \"aria-describedby\": \"basic-addon2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"outline-secondary light\",\n      onClick: () => {\n        navigator.clipboard.writeText(this.props.location.state.gameId);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 29\n      }\n    }, \"COPY\"))), /*#__PURE__*/React.createElement(\"h4\", {\n      style: {\n        marginTop: '20px',\n        color: 'rgb(192, 57, 43)',\n        fontFamily: 'Rouge Script, cursive'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"Share this ROOM ID with your friends and ask them to join\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"left-wait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-wait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"150\",\n      height: \"150\",\n      className: \"imageBorder\",\n      src: this.props.user.imageUrl,\n      alt: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        marginTop: '20px',\n        color: 'rgb(192, 57, 43)',\n        fontFamily: 'Rouge Script, cursive'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    }, this.props.user.username))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"right-wait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-wait\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"150\",\n      height: \"150\",\n      className: \"imageBorder\",\n      src: questionmark,\n      alt: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        color: 'rgb(192, 57, 43)',\n        fontFamily: 'Rouge Script, cursive'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 25\n      }\n    }, this.props.user.username))), this.state.otherPlayerName !== null && this.props.location.state.color === 'white' ? /*#__PURE__*/React.createElement(Button, {\n      className: \"button\",\n      style: {\n        marginBottom: '10vh',\n        width: '250px',\n        left: '40%',\n        color: 'white',\n        bottom: '10vh',\n        position: 'fixed',\n        border: '1px solid black',\n        backgroundColor: 'grey'\n      },\n      onClick: this.goToGame,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"START GAME\") : null, this.state.otherPlayerName !== null && this.props.location.state.color === 'black' ? /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"startText\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }, \"Your friend will start the game\") : null);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  socket: state.websocketReducer.socket,\n  user: state.userReducer\n});\n\nexport default connect(mapStateToProps)(WaitingGameRoom);","map":{"version":3,"sources":["/Users/ragir/Documents/chess/chess-react/src/WaitingGameRoom.js"],"names":["React","Component","NavBar","whiteKing","blackKing","Button","FormControl","InputGroup","Redirect","connect","questionmark","WaitingGameRoom","constructor","props","state","redirect","redirectToHome","gameId","location","color","opponentName","opponentImageUrl","setState","goToGame","socket","send","JSON","stringify","copyToClipboard","e","select","document","execCommand","target","focus","createRef","componentDidMount","WebSocket","playerName","onopen","console","log","onclose","onmessage","input","data","parse","opponent","otherPlayerName","type","componentWillUnmount","close","render","pathname","position","left","top","home","cursor","navigator","clipboard","writeText","marginTop","fontFamily","user","imageUrl","username","marginBottom","width","bottom","border","backgroundColor","mapStateToProps","websocketReducer","userReducer"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport NavBar from './NavBar'\nimport whiteKing from './images/white_king.png';\nimport blackKing from './images/black_king.png'\nimport {Button, FormControl, InputGroup} from 'react-bootstrap'\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport questionmark from './images/questionmark.jpeg'\n\nclass WaitingGameRoom extends Component {\n    state = {\n        redirect : false,\n        redirectToHome: false,\n        gameId: this.props.location.state.gameId,\n        color: this.props.location.state.color,\n        opponentName: this.props.location.state.opponentName,\n        opponentImageUrl: this.props.location.state.opponentImageUrl\n    }\n\n    constructor(props){\n        super(props);\n        this.gameId = React.createRef();\n    }\n\n    redirectToHome = () => {\n        this.setState({redirectToHome: true})\n    }\n\n    goToGame = () => {\n        this.socket.send(JSON.stringify({\"type\":\"ready\"}))\n        this.setState({redirect: true})\n    }\n\n    componentDidMount () {\n        this.socket = new WebSocket(\"ws://localhost:8000/room?userId=\"+this.props.location.state.playerName+\"&gameId=\"+this.props.location.state.gameId)\n        this.socket.onopen = () => {\n            console.log(\"socket connected\");\n        }\n\n        this.socket.onclose = () => {\n            console.log('socket closed')    \n        }\n\n        this.socket.onmessage = (input) => {\n            var data = JSON.parse(input.data);\n            if(data.opponent){\n                this.setState({otherPlayerName: data.opponent})\n            }\n            else if(data.type === 'opponentLeft'){\n                this.setState({otherPlayerName: null})\n            }\n            else if(data.type === 'ready'){\n                this.setState({redirect: true})\n            }\n        }\n    }\n\n    componentWillUnmount() {\n        this.socket.close();         \n    }\n\n    copyToClipboard = (e) => {\n        this.gameId.select();\n        document.execCommand('copy');\n        e.target.focus();\n    };\n\n    render () {\n        return (\n            <div>\n                { \n                    this.state.redirect ? <Redirect to={{\n                        pathname: '/game',\n                        state: { \n                            gameId: this.state.gameId,\n                            color: this.state.color,\n                            opponentName: this.state.opponentName,\n                            opponentImageUrl: this.state.opponentImageUrl\n                        }\n                    }} /> :null\n                }\n\n                { \n                    this.state.redirectToHome ? <Redirect to={{\n                        pathname: '/'\n                    }} /> :null\n                }\n                    \n                <div style={{position: 'fixed', left: '2%', top: '2%'}}>\n                    <Image src={home} roundedCircle width=\"100\" height=\"100\" onClick={this.redirectToHome} style={{cursor: 'pointer'}} />\n                </div>\n                <div className='waitingRoomText'>\n                    <InputGroup className=\"mb-3\">\n                        <FormControl\n                            placeholder={this.props.location.state.gameId}\n                            aria-label={this.props.location.state.gameId}\n                            aria-describedby=\"basic-addon2\"\n                        />\n                        <InputGroup.Append>\n                            <Button variant=\"outline-secondary light\" onClick={() => {navigator.clipboard.writeText(this.props.location.state.gameId)}}>COPY</Button>\n                        </InputGroup.Append>\n                    </InputGroup>\n                    <h4 style={{marginTop:'20px',color:'rgb(192, 57, 43)',fontFamily:'Rouge Script, cursive'}}>Share this ROOM ID with your friends and ask them to join</h4>\n                </div>\n        \n                <div className='left-wait'>\n                    <div className='image-wait'>\n                        <img width='150' height='150' className='imageBorder' src={this.props.user.imageUrl} alt=\"white\" />\n                        <h3 style={{marginTop:'20px',color:'rgb(192, 57, 43)',fontFamily:'Rouge Script, cursive'}}>{this.props.user.username}</h3>\n                    </div>\n                </div>\n\n                <div className='right-wait'>\n                    <div className='image-wait'>\n                    <img width='150' height='150' className='imageBorder' src={questionmark} alt=\"white\" />\n                        <h3 style={{color:'rgb(192, 57, 43)',fontFamily:'Rouge Script, cursive'}}>{this.props.user.username}</h3>\n                    </div>\n                </div>\n\n                {                    \n                    this.state.otherPlayerName !== null && this.props.location.state.color === 'white' ?\n                        <Button className='button' style={{\n                            marginBottom: '10vh',\n                            width: '250px',\n                            left: '40%',\n                            color: 'white',\n                            bottom: '10vh',\n                            position: 'fixed',\n                            border: '1px solid black',\n                            backgroundColor: 'grey'}} onClick={this.goToGame}>START GAME</Button>\n                        :null\n                }\n                {\n                    this.state.otherPlayerName !== null && this.props.location.state.color === 'black' ?\n                        <h3 className='startText'>Your friend will start the game</h3>\n                        :null\n                }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    socket: state.websocketReducer.socket,\n    user: state.userReducer\n})\n\nexport default connect(mapStateToProps)(WaitingGameRoom)"]},"metadata":{},"sourceType":"module"}